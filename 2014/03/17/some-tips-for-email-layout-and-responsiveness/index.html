<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    Some Tips for Email Layout and Responsiveness // Artsy Engineering
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="matt">
<meta name="generator" content="Hugo 0.26" />

  <meta property="og:title" content="Some Tips for Email Layout and Responsiveness" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="https://hizkifw.github.io/artsy.github.io-hugo/2014/03/17/some-tips-for-email-layout-and-responsiveness/" />


  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/base-min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="https://hizkifw.github.io/artsy.github.io-hugo/css/redlounge.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='//fonts.googleapis.com/css?family=Raleway:400,200,100,700,300,500,600,800' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Artsy Engineering" />

    
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/tomorrow-night-bright.min.css">
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  

  

  
</head>

<body>
	

	<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    

	

    
    

    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><span class="nav-item-separator">//</span><a href="https://hizkifw.github.io/artsy.github.io-hugo">Home</a></li>
        
      </ul>
    </nav>

    

  </div>
</div>

	
	

    <div class="content pure-u-1 pure-u-md-3-4">
		<a name="top"></a>
		

		
			
		    <div id="toc" class="pure-u-1 pure-u-md-1-4">
				<small class="toc-label">Contents</small>
		   	 	<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#the-main-difference-between-email-and-web">The Main Difference Between Email and Web</a></li>
<li><a href="#some-basics-about-tables">Some Basics about Tables</a></li>
<li><a href="#background-images-and-overlayed-text">Background Images and Overlayed Text</a></li>
<li><a href="#mobile-responsiveness">Mobile Responsiveness</a>
<ul>
<li><a href="#some-misc-email-tweaks">Some misc. email tweaks</a></li>
</ul></li>
<li><a href="#great-tools-to-use">Great tools to use:</a></li>
</ul></li>
</ul>
</nav>
		    </div>
		    
	    
  		<section class="post">
            <h1 class="post-title">
              <a href="/artsy.github.io-hugo/2014/03/17/some-tips-for-email-layout-and-responsiveness/">Some Tips for Email Layout and Responsiveness</a>
            </h1>
            <h3 class="post-subtitle">
            	
            </h3>
            
            	<span class="post-date">
                	<span class="post-date-day"><sup>17</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Mar</span> <span class="post-date-year">2014</span>
            	</span>
            	
            
            	
            		<span class="post-author-single">By <a class="post-author"  target="">matt</a></span>
            		




            	
            

			
			
				<div class="post-categories">
				
					<a class="post-category post-category-Email" href="https://hizkifw.github.io/artsy.github.io-hugo/categories/Email">Email</a>
				
					<a class="post-category post-category-CSS" href="https://hizkifw.github.io/artsy.github.io-hugo/categories/CSS">CSS</a>
				
				</div>
			

			

			

            <p><img src="/images/2014-03-17-some-tips-for-email-layout-and-responsiveness/analytics.png" alt="Example of Analytics Email" /></p>

<p>Email can be one of the most powerful ways to engage with your users, and can serve a multitude of purposes. It can be used as a way to highlight selected content (weekly/monthly newsletters, &lsquo;year in review&rsquo;, etc.), provide a service to users (analytics breakdown of visits to your profile/favorites page), or re-engage with users (new feature announcements, etc.). Here at Artsy we use all of these kinds of emails and have found them to be a very valuable asset. However, best practices for template layout and CSS (keeping in mind the variety of devices and screen sizes that your users have) are quite different from, and very far behind, the current HTML5 standards and practices for making beautiful web pages. In this article, I&rsquo;d like to present some techniques I&rsquo;ve successfully used at Artsy to create emails that look good on your browser or mobile device, in some of the most popular email clients out there.</p>

<p></p>

<h2 id="the-main-difference-between-email-and-web">The Main Difference Between Email and Web</h2>

<p>A fundamental difference between email and web, and which essentially accounts for the completely different methodology and rules you should follow for emails, is that of the rendering client. In 2014, (assuming you are not supporting certain legacy versions of Internet Explorer and other old versions), browsers for the most part will render passed in HTML and CSS in a standard fashion. While there are some notable exceptions still, graceful degradation is quite possible. That is because the only &lsquo;interpreter&rsquo; of your HTML is the end user&rsquo;s browser, which operates under a certain set of known rules. With emails however, the interpreter is the end user&rsquo;s mail client of choice, which can be: native iOS apps, web apps, and even standalone desktop applications. All of these do their own parsing/interpreting before rendering, which can cause HTML that results in a nice looking web page to look totally broken in an email, as well as the same exact email looking remarkably different across mail clients. One of the main reasons why email clients do this is to remove things that might interfere with the rendering of the mail client itself, or any security risks.</p>

<p>Also of note is that the use of Javascript within an email is of course, not possible. Additionally, the HTML that will be emailed to your users needs to be sent as one file with inlined CSS. You can use a tool like <a href="https://github.com/premailer/premailer/">premailer</a> to allow you to develop your CSS separately and then convert to an inline style.</p>

<h2 id="some-basics-about-tables">Some Basics about Tables</h2>

<p>Yes, it&rsquo;s 2014, and yes, we&rsquo;re going to talk about tables on an engineering blog. That&rsquo;s because for emails, tables are going to be your main tool to position and lay out your content. Two of the most common CSS selectors (<code>position</code> and <code>display</code>) are bad ideas to use in email. They are mostly unsupported by mail clients (which will reach in and rewrite your HTML/CSS) and will lead to unexpected looking output. However, you can achieve virtually any layout desired using tables.</p>

<p>Here is sample HTML that generates the top part of the email shown above. While it may make your eyes bleed from the table use, notice we are able to achieve the beginnings of a basic 3-column layout, with equal-width columns and centered headers/text with no position-related CSS.</p>

<pre><code class="language-html">&lt;table border='0' cellpadding='0' cellspacing='0' style='margin: 0 20px; table-layout: fixed;' width='600px'&gt;
  &lt;tr&gt;
    &lt;td align='center' colspan='3' style='padding: 0px 0px 15px' valign='middle'&gt;
      &lt;font color='black' style='font-family: Georgia, serif;font-size: 16px; line-height: 1.3em; letter-spacing:2px;text-transform:uppercase;'&gt;
        Cats Galore at the Cat Art Fair 2014
      &lt;/font&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td align='left' style='padding: 0px 0px 15px; border-right: 1px solid grey;' valign='middle'&gt;
      &lt;font color='black' style='font-family: Georgia, serif;font-size: 16px; line-height: 1.3em;'&gt;
        &lt;div style='text-align: center; font-size: 23px;'&gt;
          24
        &lt;/div&gt;
        &lt;div style='text-align: center;'&gt;
          works
          in your booth
        &lt;/div&gt;
      &lt;/font&gt;
    &lt;/td&gt;
    &lt;td align='middle' style='padding: 0px 0px 15px; border-right: 1px solid grey;' valign='middle'&gt;
      &lt;font color='black' style='font-family: Georgia, serif;font-size: 16px; line-height: 1.3em;'&gt;
        &lt;div style='text-align: center; font-size: 23px;'&gt;
          3,086
      	&lt;/div&gt;
        &lt;div style='text-align: center;'&gt;
          total artwork views
        &lt;/div&gt;
      &lt;/font&gt;
    &lt;/td&gt;
    &lt;td align='right' valign='middle'&gt;
    &lt;font color='black' style='font-family: Georgia, serif;font-size: 16px; line-height: 1.3em;'&gt;
      &lt;div style='text-align: center; font-size: 23px;'&gt;
        471
      &lt;/div&gt;
      &lt;div style='text-align: center;'&gt;
        cities reached
      &lt;/div&gt;
    &lt;/font&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;!-- more content below --&gt;
&lt;/table&gt;
</code></pre>

<p>Now under this we present a heatmap and table of top views by city. For that we use the same 3-column table, except specify a colspan of 2 on the column that contains the heatmap. That is because we would like that column to take up a width equal to the first 2 columns of the equally spaced three at the top, and the table of top views will take up the last column. Here&rsquo;s that markup:</p>

<pre><code class="language-html">	&lt;tr&gt;
    &lt;td align='left' colspan='2' style='padding: 0px 0px 15pxl; width: 66%;' valign='middle'&gt;
      &lt;div&gt;
        &lt;img src='link_to_heatmap.png' width='400px'&gt;
      &lt;/div&gt;
    &lt;/td&gt;
    &lt;td align='right' style='padding: 0px 23px 15px; width: 33%; text-align:left;' valign='middle'&gt;
      &lt;font color='black' style='font-family: Georgia, serif;font-size: 12px; line-height: 1.3em; font-weight:bold;'&gt;
        Top 10 Cities
      &lt;/font&gt;
      &lt;font color='black' style='font-family: Georgia, serif;font-size: 12px; line-height: 1.3em;'&gt;
        New York
        21.66%
        &lt;br&gt;
        London
        3.34%
        &lt;br&gt;
        &lt;!-- 'br' separated string of views --&gt;
      &lt;/font&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
</code></pre>

<p>Notice that again we are using no position or display related CSS. However, now our table has a 3 column section and a 2 column section, and we are well on our way to creating a nice email! I kept these as separate rows in the same table, but could have equivalently had each of them be their own table with no ill effects and almost the same markup. Depending on your design and layout, you may need to have multiple tables (nested and not) to support different widths and column layouts, however they should all just <em>work</em>.</p>

<h2 id="background-images-and-overlayed-text">Background Images and Overlayed Text</h2>

<p>Ok, so tables are all well and good and you can achieve a lot using them, and without having to use any display or position CSS. But what if you want to overlay text on an image? (or even another image over an image)? On a web page, there are many ways to accomplish that, but they all use CSS that you really should not be using in emails (namely: <code>position</code>, <code>display</code>, <code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code>, and most layout properties besides padding. Also, no negative padding please!). But no worries, because you can still accomplish that using background images!</p>

<p>Here is an example from our current welcome mail to users:</p>

<p><img src="/images/2014-03-17-some-tips-for-email-layout-and-responsiveness/welcome_desktop.png" alt="Example of Welcome Mail" /></p>

<p>The top part (the iPhone pic) is actually two images (the picture, and the App Store logo), as well as some text overlayed on top. Here is the HTML to accomplish that:</p>

<pre><code class="language-html">&lt;table cellpadding='0' cellspacing='0' id='iphone-table' style='border: 0;padding:10px 0px 15px 0px;width:625px' width='625'&gt;
  &lt;tr&gt;
    &lt;td align='left' valign='middle'&gt;
      &lt;table background='link_to_phone.png' cellpadding='0' cellspacing='0' height='265' style='height:265px;width:625px' width='625'&gt;
        &lt;tr&gt;
          &lt;td style='padding-top:57px;padding-right:53px;padding-left:375px;text-align:center;'&gt;
            &lt;div style='line-height:26px;'&gt;
              &lt;font style='text-transform: uppercase; font-size: 19px; font-family: Georgia, serif; color: white;-webkit-font-smoothing:antialiased;'&gt;
                Download Artsy for iPhone
              &lt;/font&gt;
            &lt;/div&gt;
            &lt;div style='padding-top:10px;'&gt;
              &lt;font style='font-size: 14px; font-family: Georgia, serif; color: white;-webkit-font-smoothing:antialiased;'&gt;
                The art world in your pocket.
              &lt;/font&gt;
            &lt;/div&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td align='right' style='padding-right:82px;vertical-align:top;'&gt;
            &lt;a href='https://itunes.apple.com/us/app/artsy-art-world-in-your-pocket/id703796080?ls=1&amp;amp;mt=8'&gt;
              &lt;img src='app_store.png' style='border: none; outline: none; vertical-align:top;' width='140px'&gt;
            &lt;/a&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
</code></pre>

<p>I chose to use a separate table to hold this content, where the background image for this table is the picture of the iPhone in hand. That table (with a background of the photo) has two rows, each with one column. The first row which is for the top part of the image, contains the &lsquo;Download&rsquo; white text. That is positioned within the column through padding, which is well supported by most mail clients (as long as it&rsquo;s positive padding that is!) The second row, for the bottom part of the image, is a picture of the &lsquo;Download on the App Store&rsquo; logo, and we chose to put that in an anchor tag and link to the App Store. You could have alternatively made this image a background as well to achieve the same overlay effect, as well as added more overlaid text, etc.</p>

<p>Essentially, to overlay text on images, and images on images - your only option in email is to use background images.</p>

<h2 id="mobile-responsiveness">Mobile Responsiveness</h2>

<p>Ok, at this point we know how to craft some &lsquo;dynamic&rsquo; layouts, (multi-column, sidebar, etc) and can overlay text and images for added effect. Now let&rsquo;s think about how this should work/look on a mobile device. Media queries will be our tool of choice here (well supported by mobile mail clients, with a notable exception being the Gmail iOS app.)</p>

<p>Something to keep in mind, depending on your use case, is to potentially design the email in the first place with mobile in mind. This can mean larger font sizes across the layout, as well as a single or two column layout max for your content. Since you have much less screen space to work with on mobile, the media queries we are going to use will largely be to increase font sizes, as well as using &lsquo;width&rsquo; and &lsquo;float&rsquo; to force a two column layout into one column (as an example). Depending on the mail design, this can be simple to do, or quite tricky. It&rsquo;s worth considering this in your initial designs.</p>

<p>Now the first thing to do is to include the following meta tag in your HTML:</p>

<pre><code class="language-html">  &lt;meta name='viewport' content='width=device-width, initial-scale=1.0'&gt;
</code></pre>

<p>This will tell the browser to treat the viewport size as the size of the device that is being used. This combined with media queries will enable us to create mobile emails.</p>

<p>As an example, consider the following two images. The first is the desktop version of the top part of a personalized weekly mail (blog post on how we efficiently generate these to come!), and the second is the mobile version of that same mail.</p>

<p><img src="/images/2014-03-17-some-tips-for-email-layout-and-responsiveness/personalized_desktop.png" alt="Example of Personalized Desktop" /></p>

<p><img src="/images/2014-03-17-some-tips-for-email-layout-and-responsiveness/personalized_summary.png" alt="Example of Personalized Mobile" /></p>

<p>The markup for this is pretty vanilla (similar to above, 3 column layout in a table). For mobile, we want to left-align everything and trim things down to one column. Of note here is that we are truncating text with ellipsis in the desktop version, and when the content reflows to one column we actually have <em>more</em> room to reveal the text (but still keeping truncation in just in case), so we have to enclose the text in a <code>div</code> (must have a block element for truncation)</p>

<p>Here is how we truncate text:</p>

<pre><code class="language-html">  &lt;div id='row-to-expand' style='white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:150px;'&gt;
    Some really long text that will get truncated
  &lt;/div&gt;
</code></pre>

<p>We specify a width on a block-level element and then use the ellipsis trick. Here&rsquo;s another screenshot of the truncation in action:</p>

<p><img src="/images/2014-03-17-some-tips-for-email-layout-and-responsiveness/personalized_shows.png" alt="Example of Shows Listing" /></p>

<p>Our first media query can be something like:</p>

<pre><code class="language-css">  @media (max-device-width: 320px){
    div[id='row-to-expand']{
      width: 260px !important;
    }
  }
</code></pre>

<p>We&rsquo;ve set the breakpoint at 320px (vertical layout on an iPhone), and at widths less than or equal to that, this rule will kick in. Note the &lsquo;!important&rsquo; at the end (all of our media queries will have that to allow them to override the existing inline CSS). This is enough to expand that div and reveal more text.</p>

<p>Here&rsquo;s the media queries for the rest of this section that transforms the three column layout into one:</p>

<pre><code class="language-css">  @media (max-device-width: 320px){
    td[id='summary-col']{
      float: left !important;
    }
    td[id='summary-header']{
      float: right !important;
      width: 300px !important;
    }
    td[id='nested-summary-col']{
      width: 300px !important;
      float: left !important;
      padding: 0px !important;
    }
    table[id='summary']{
      width: 300px !important;
    }
  }
</code></pre>

<p>where the <code>td[id='nested-summary-col']</code> are the <code>td</code>s that hold the thumbnail and artist or gallery name.
Essentially all we are doing is changing the width of the container/parent table to 300px, and then making the width of each <code>td</code> 300px and adding a float. This will force your table to now be a one column layout- easy!</p>

<h3 id="some-misc-email-tweaks">Some misc. email tweaks</h3>

<p>Sometimes it becomes necessary to hide/show certain things for mobile or desktop. This can be a bit tricky due to not being able to use <code>display:none;</code> , so here are a few things I&rsquo;ve found that worked:</p>

<ul>
<li><code>width: 0px;</code> (works for hiding images)</li>
<li><code>line-height: 0px;</code> (works for hiding text)</li>
<li><code>font-size: 0px;</code> (works for hiding text)</li>
</ul>

<p>Another thing you might encounter is that text links automatically become blue in email. This is because many mail clients will take an un-styled or black link text and make them a default blue color. An easy hack to get around this is to explicitly color your links something like &lsquo;#000001&rsquo;. This &lsquo;almost-black&rsquo; will be left untouched by mail clients, yet is close enough to black that the naked eye can&rsquo;t perceive the difference.</p>

<p>Here&rsquo;s a screenshot of an <a href="https://github.com/desandro/isotope">isotope</a> or <a href="https://www.pinterest.com/">Pinterest</a> column style layout, with truncation of text, and resized for mobile (running the full gamut of tricks):</p>

<p><img src="/images/2014-03-17-some-tips-for-email-layout-and-responsiveness/personalized_suggestions.png" alt="Example of Personalized Suggestions" /></p>

<p><a href="https://gist.github.com/mzikherman/9610125">Here is a gist</a> I use to prepare artworks for a columnar display like this. You pass in a collection of artworks (where each artwork is arbitrarily sized), and the number of columns and width of the desired output. It will return the artworks grouped into columns that can be directly rendered in an email, while respecting aspect ratios and ensuring the columns are of <em>approximately</em> equal height - resulting in a dynamic feeling layout. For this email, we group this set of artworks into 2 coumns, with each column having a width of 300px (for desktop).</p>

<h2 id="great-tools-to-use">Great tools to use:</h2>

<ul>
<li><a href="https://github.com/premailer/premailer/">Premailer</a> This will enable you to develop CSS in a sane (ie- not inline) way, and then at generation/compile time, inline it for you.</li>
<li><a href="http://litmus.com/">Litmus</a> Using Litmus&rsquo;s VM&rsquo;s with different OS&rsquo;s and mail clients, you can preview how a sample email will look among all sorts of different configurations. I recommend figuring out what mail clients/browsers/OS&rsquo;s you want to target and making sure you test all your emails here.</li>
<li><a href="http://haml.info/">Haml</a> (or any templating language of choice). A lot of the blocks of content in our mails are dynamically generated, and Haml&rsquo;s conditionals and looping syntax, as well as
Ruby-style string evaluation has proven invaluable.</li>
</ul>

<hr />

<p>That&rsquo;s all for now! With a lot of trial and error, I&rsquo;ve built up a toolbelt of tricks, techniques and hacks I&rsquo;ve been using to develop responsive and pretty emails quickly. I think of the limited set of tools at my disposal as a puzzle with which you can still create great looking and responsive layouts to feature your content. Previewing mails using <a href="http://mailchimp.com/features/inbox-inspector/">Inbox Inspector</a> have enabled me to craft, deploy, and send them to our users with confidence. Post any comments or tips of your own here, and <a href="https://github.com/artsy">follow us on Github</a>!</p>
	
			

			

			
				<div class="paging">
					<span class="paging-label">More Reading</span>
					
					<div class="paging-newer">
						<span class="dark-red">Newer</span><span class="decorative-marker">//</span>
						<a class="paging-link" href="/artsy.github.io-hugo/2014/03/17/ruby-helper-to-group-artworks-into-a-pinterest-style-layout-for-email/">Ruby Helper to Group Artworks into a Pinterest-style Layout for Email</a>
		            </div>
		            

					
					<div class="paging-older">
						<span class="dark-red">Older</span><span class="decorative-marker">//</span>
			            <a class="paging-link" href="/artsy.github.io-hugo/2014/01/30/isolating-spurious-and-nondeterministic-tests/">Isolating Spurious and Nondeterministic Tests</a>
		            </div>
		            
	            </div>
            
          </section>
          
          	
          
        
      <div class="footer">
	<hr class="thin" />
	<div class="pure-menu pure-menu-horizontal pure-menu-open">
		<ul class="footer-menu">
		
		</ul>
	</div>

	<p>&copy; 2017. All rights reserved.</p>
</div>
    </div>
  </div>
	

	

  
</body>
</html>
